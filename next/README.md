
Welcome to the **Websites Factory library** (beta).

This library aims to generate pages in [Next.js](https://nextjs.org) from your modules or modules created by the community.

## Table of Contents
- [Getting Started](#getting-started)
- [Overview](#overview)
- [Configuration](#configuration)
- [Pages](#pages)
- [Modules](#modules)

# Getting Started

## Requirements

Website Factory is designed to be used with [Next.js](https://nextjs.org) (App Router) and [Tailwind](https://tailwindui.com).

## Installation

```bash
npx websites-factory
```

This command creates a `websites-factory-modules` directory, which will be used to store the modules and the `websites-factory-config.json` file. It will also install the Websites Factory library in `node_modules`.

### Tailwind

Add the path for all modules in `tailwind.config.js`

```js
  content: [
    "./pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./components/**/*.{js,ts,jsx,tsx,mdx}",
    "./app/**/*.{js,ts,jsx,tsx,mdx}",
    // Add the path for all websites-factory-modules
   "./websites-factory-modules/**/*.{js,ts,jsx,tsx,mdx}",
  ],
```

### page.js / page.tsx

Replace the code in the page.js or page.tsx file created by Next.js:


```bash tabs='js|ts'
import { notFound } from "next/navigation";
import { getPage, PageRenderer } from "websites-factory";

const page = async ({ params }) => {
  const pageResult = await getPage(params);
  if (!pageResult) {
    notFound();
  }
  return (
    <PageRenderer pageResult={pageResult} />
  );
};

export default page;
```

> **Note**: The websites-factory-config file in this form is temporary. The idea is to eventually retrieve the configuration from a database. In that case, this will likely be used as the default configuration.

# Overview

The modules provide pages and sections to the template of the `websites-factory-config.json` file. This allows for the construction of the various pages of the site.

# Configuration

The `Websites-factory-config` file consists of the list of modules, the template, and the entities.

## Modules config

```json

    "modules": [
        {
            "name": "welcome",
            "enabled": true
        }
    ]
```
- **Config**
*Coming soon*
Mapping entities and more?

## Template

The template contains all the pages to be generated by **Websites Factory** in the form of an object, with the page path as the key.  
To `generate a page`, you must at least specify which page from which module you want to display

```json
    "template": {
        "/": {
            "module": "welcome",
            "page": "home",
        }
    }
```

- **Layout**

The page can use a layout provided by one of the installed modules.

```json

      "layout": {
          "module": "welcome",
          "name": "main"
            },
            
```

- **Sections**
The page will display the sections provided by the various modules.
```json
      "sections": [
          {
              "module": "welcome",
              "name": "introduction"
          }
        ],

```
- **Entities**
*Coming soon*
- **Metadatada**
*Coming soon*
- **SubPage**
*Coming soon*

# Pages

## Model
*Coming soon*

## Slug-Page
*Coming soon*

# Modules

Modules should be placed in the `websites-factory-modules` folder.
The pages provided by the module should be placed in a `pages` folder and a folder named after the page.
The sections provided by the module should be placed in a `sections` folder and a folder named after the section.

```
└──websites-factory-modules
    ├── welcome
    │   ├── pages
    │   │   ├── home  
    │   │   │  └── index.tsx  
    │   ├── sections  
    │   │   ├── introduction
    │   │   │   └── index.tsx  
```

